<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Edycja produktu</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row" ng-init="retrieve()">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading clearfix">
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <form id="productEdit" method="post" ng-submit="edit(product)">
                    <div class="form-group">
                        <label>Nazwa</label>
                        <input class="form-control" maxlength="120"  type="text" ng-model="product.name" autofocus="true" required
                               placeholder="Podaj nazwę produktu"/>
                    </div>
                    <div class="form-group">
                        <label>Kategoria</label>
                        <select class="form-control" ng-model="product.category.id" required>
                            <option ng-repeat="category in categories | filter:notNullFilter" value="{{category.id}}">
                                {{category.parent.name}} > {{category.name}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" value="true" ng-model="product.enabled"> Aktywny
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Opis</label>
                        <textarea class="form-control" ng-model="product.description" required
                                  placeholder="Podaj opis">
                        </textarea>
                    </div>
                    <div class="form-group">
                        <label>Cena</label>
                        <input class="form-control" maxlength="10" type="text" ng-model="product.price" required
                               placeholder="Podaj cenę"/>
                    </div>
                    <button class="btn btn-primary pull-right" ng-click="submit()">Zapisz produkt</i>
                    </button>
                    <!-- /.table-responsive -->
                </form>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-6 -->

    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading clearfix">
                Załączniki
                <div class="col-xs-8 pull-right">
                    <form class="row" method="post" ng-submit="createAttachment()">
                        <div class="col-xs-4">
                            <button class="btn btn-primary pull-right" ng-click="submit()">Dodaj załącznik</button>
                        </div>
                        <div class="col-xs-8">
                            <input class="form-control" maxlength="220" type="text" ng-model="newAttachmentName" required
                                   placeholder="Podaj nazwę nowego załącznika"/>
                            <input class="form-control" maxlength="220"  type="text" ng-model="newAttachmentPath" required
                                   placeholder="Podaj ścieżkę nowego załącznika" style="margin-top:5px;"/>
                            <input class="form-control" maxlength="10" type="text" ng-model="newAttachmentExtension" required
                                   placeholder="Podaj rozszerzenie nowego załącznika" style="margin-top:5px;"/>
                        </div>
                    </form>
                </div>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>Nazwa</th>
                            <th>Ścieżka</th>
                            <th>Rozszerzenie</th>
                            <th>Zarządzaj</th>
                        </tr>
                        </thead>
                        <tbody>

                        <tr ng-repeat="attachment in product.attachments | orderBy:'-id'">
                            <td>{{attachment.id}}</td>
                            <td>{{attachment.name}}</td>
                            <td>{{attachment.path}}</td>
                            <td>{{attachment.extension}}</td>
                            <td>
                                <span class="fa fa-remove" data-toggle="tooltip" data-placement="top"
                                      title="Usuń" ng-click="deleteAttachment(attachment.id)"></span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-6 -->
</div>
<!-- /.row -->